(this["webpackJsonpweb-admin-app"]=this["webpackJsonpweb-admin-app"]||[]).push([[0],{156:function(e,t){},188:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(54),o=a.n(i),s=(a(188),a(13)),r=a(8),l=a(160),j=Object(l.a)({palette:{primary:{light:"#63a4fff",main:"#0059b3",dark:"#004ba0",contrastText:"#ecfad8"}}}),d=a(21),u=a(27),b=a(319),O=a(357),h=a(325),p=a(315),x=a(226),m=a(328),f=a(0),g=Object(n.createContext)(),v=function(e){var t=e.reducer,a=e.initialState,c=e.children;return Object(f.jsx)(g.Provider,{value:Object(n.useReducer)(t,a),children:c})},y=function(){return Object(n.useContext)(g)},C=a(333),P=a(3),N=a(323),S=a(330),w=a(331),R=a(115),D=a(332),E=a(322),A=a(310),I=a.p+"static/media/logo.6ce24c58.svg",k=a(329),M=a(316),B=a(287),L=a(289),T=function(e){var t=e.classes;return Object(f.jsxs)("div",{className:t.list,children:[Object(f.jsx)(k.a,{style:{background:"#0059b3"},children:Object(f.jsxs)(M.a,{children:[Object(f.jsx)(E.a,{src:I}),Object(f.jsx)(B.a,{primary:"Dinamo Solutions",style:{color:"white"}})]})}),Object(f.jsx)(L.a,{}),Object(f.jsxs)(k.a,{children:[Object(f.jsxs)(M.a,{component:d.b,button:!0,to:"/usuario",children:[Object(f.jsx)("i",{className:"material-icons",children:"account_box"}),Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:"Usuario"})]}),Object(f.jsxs)(M.a,{component:d.b,button:!0,to:"/plan",children:[Object(f.jsx)("i",{className:"material-icons",children:"add_box"}),Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:"Plan"})]}),Object(f.jsxs)(M.a,{component:d.b,button:!0,to:"/empresa",children:[Object(f.jsx)("i",{className:"material-icons",children:"add_box"}),Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:"Empresa"})]}),Object(f.jsxs)(M.a,{component:d.b,button:!0,to:"/planesmodulo",children:[Object(f.jsx)("i",{className:"material-icons",children:"add_box"}),Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:"Plan Modulo"})]}),Object(f.jsxs)(M.a,{component:d.b,button:!0,to:"/contrato",children:[Object(f.jsx)("i",{className:"material-icons",children:"add_box"}),Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:"Contrato"})]})]})]})},_=function(e){var t=e.classes,a=e.usuario,n=e.salirSesion;return Object(f.jsx)("div",{className:t.list,children:Object(f.jsxs)(k.a,{children:[Object(f.jsxs)(M.a,{children:[Object(f.jsx)(E.a,{src:a.username||I}),Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:a?a.username:""})]}),Object(f.jsx)(M.a,{button:!0,onClick:n,children:Object(f.jsx)(B.a,{classes:{primary:t.listItemText},primary:"Salir"})})]})})},z=Object(A.a)((function(e){return{seccionDesktop:Object(P.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),seccionMobile:Object(P.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),grow:{flexGrow:1},avatarSize:{width:40,height:40},list:{width:250},listItemText:{fontSize:"14px",fontWeight:600,paddingLeft:"15px",color:"#212121"}}})),W=Object(u.i)((function(e){var t=z(),a=y(),i=Object(r.a)(a,2),o=i[0].sesionUsuario,s=i[1],l=Object(n.useState)(!1),j=Object(r.a)(l,2),d=j[0],u=j[1],b=Object(n.useState)(!1),O=Object(r.a)(b,2),h=O[0],p=O[1],x=function(){u(!1)},m=function(){p(!1)},g=function(){localStorage.removeItem("token_seguridad"),s({type:"SALIR_SESION",nuevoUsuario:null,autenticado:!1}),e.history.push("/auth/login")};return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(N.a,{open:d,onClose:x,anchor:"left",children:Object(f.jsx)("div",{className:t.list,onKeyDown:x,onClick:x,children:Object(f.jsx)(T,{classes:t})})}),Object(f.jsx)(N.a,{open:h,onClose:m,anchor:"right",children:Object(f.jsx)("div",{className:t.list,onClick:m,onKeyDown:m,children:Object(f.jsx)(_,{classes:t,salirSesion:g,usuario:o?o.usuario:null})})}),Object(f.jsxs)(S.a,{children:[Object(f.jsx)(w.a,{color:"inherit",onClick:function(){u(!0)},children:Object(f.jsx)("i",{className:"material-icons",children:"menu"})}),Object(f.jsx)(R.a,{variant:"h6",children:"Panel Administrativo"}),Object(f.jsx)("div",{className:t.grow}),Object(f.jsxs)("div",{className:t.seccionDesktop,children:[Object(f.jsx)(D.a,{color:"inherit",onClick:g,children:"Salir"}),Object(f.jsx)(D.a,{color:"inherit",children:o?o.usuario.username:""}),Object(f.jsx)(E.a,{src:I})]}),Object(f.jsx)("div",{className:t.seccionMobile,children:Object(f.jsx)(w.a,{color:"inherit",onClick:function(){p(!0)},children:Object(f.jsx)("i",{className:"material-icons",children:"more_vert"})})})]})]})})),q=function(){var e=y(),t=Object(r.a)(e,2),a=t[0].sesionUsuario;t[1];return a&&1==a.autenticado?Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{position:"fixed",style:{boxShadow:"none"},children:Object(f.jsx)(W,{})})}):Object(f.jsx)(u.a,{to:"/auth/login"})},U=a(161),K=["component"];var F=function(e){var t=e.component,a=Object(U.a)(e,K),n=y(),c=Object(r.a)(n,2),i=c[0].sesionUsuario;return c[1],Object(f.jsx)(u.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return i&&1==i.autenticado?Object(f.jsx)(t,Object(s.a)(Object(s.a)({},e),a)):Object(f.jsx)(u.a,{to:"/auth/login"})}}))},H=a(156),G=a.n(H),J=a(334),Z=a(320),V={paper:{marginTop:1,display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",height:"90%",marginTop:130,backgroundColor:"#fff"},avatar:{margin:5,backgroundColor:"#0059b3",width:60,height:60},icon:{fontZise:40},paperboton:{position:"fixed",paddingTop:"56px",left:0,right:0,height:63},thead:{backgroundColor:"rgb(11, 104, 198)",color:"#fff",padding:"13px",borderBottom:"1px solid rgb(104, 103, 103)",lineHeight:"1.0rem"},tbody:{padding:"13px",borderBottom:"1px solid rgb(210, 207, 207)",lineHeight:"1.00"}},Y=a(51),Q=a.n(Y);Q.a.defaults.baseURL="http://52.26.185.136:8020/api",Q.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("token_seguridad");if(t)return e.headers.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));var X={get:function(e){return Q.a.get(e)},post:function(e,t){return Q.a.post(e,t)},put:function(e,t){return Q.a.put(e,t)},delete:function(e){return Q.a.delete(e)}},$=Q.a.create();$.CancelToken=Q.a.CancelToken,$.isCancel=Q.a.isCancel;var ee=function(e){return new Promise((function(t,a){X.get("/usuario/getListarUsuario?"+"page=".concat(e.page,"&pages=").concat(e.pages,"&request=").concat(e.request)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))},te=a(294),ae=Object(u.i)((function(e){var t=y(),a=Object(r.a)(t,2),c=(a[0].sesionUsuario,a[1]),i=Object(n.useState)({UserName:"",Password:""}),o=Object(r.a)(i,2),l=o[0],j=o[1],d=function(e){var t=e.target,a=t.name,n=t.value;j((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))}))};return Object(f.jsx)(J.a,{maxWidth:"xs",children:Object(f.jsxs)("div",{style:V.paper,children:[Object(f.jsx)(E.a,{style:V.avatar,children:Object(f.jsx)(te.a,{style:V.icon})}),Object(f.jsx)(R.a,{component:"h1",variant:"h5",children:"Login Usuario"}),Object(f.jsxs)("form",{style:V.form,children:[Object(f.jsx)(Z.a,{name:"UserName",value:l.UserName,onChange:d,variant:"outlined",fullWidth:!0,label:"Usuario",margin:"normal"}),Object(f.jsx)(Z.a,{name:"Password",value:l.Password,onChange:d,type:"password",variant:"outlined",fullWidth:!0,label:"Contrase\xf1a",margin:"normal"}),Object(f.jsx)(D.a,{type:"submit",onClick:function(t){t.preventDefault(),c({type:"OPEN_BACKDROP",open:!0}),function(e,t){return new Promise((function(a,n){$.post("/usuario/postLogin",e).then((function(e){t({type:"INICIAR_SESION",sesion:e.data,autenticado:!0}),a(e)})).catch((function(e){a(e.response)}))}))}(l,c).then((function(t){c({type:"OPEN_BACKDROP",open:!1}),200===t.status?(window.localStorage.setItem("token_seguridad",t.data.token),e.history.push("/")):c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Las credenciales son incorrectas",tipoRespuesta:2}})}))},variant:"contained",fullWidth:!0,color:"primary",style:V.submit,children:"Ingresar"})]})]})})})),ne=a(24),ce=a.n(ne),ie=a(40),oe=a(166),se=a(338),re=a(339),le=a(340),je=a(341),de=a(342),ue=a(343),be=a(344),Oe=a(345),he=a(346),pe=a(318),xe=a(347),me=a(348),fe=a(313),ge=a(297),ve=a(299),ye=a(68),Ce=a.n(ye),Pe=a(356);function Ne(e,t){var a=Object(n.useState)(),c=Object(r.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){o(e)}),t);return function(){clearTimeout(a)}}),[e]),i}var Se=function(){var e=Object(u.g)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],i=a[1],o=Ne(c,400),l=Object(n.useState)({request:"",page:0,pages:5}),j=Object(r.a)(l,2),b=j[0],O=j[1],p=Object(n.useState)({items:[],page:0,pages:0,total:0}),x=Object(r.a)(p,2),m=x[0],g=x[1];Object(n.useEffect)((function(){var e=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a=b.page+1,o&&(t=o,a=1),n={request:t,page:a,pages:b.pages},e.next=6,ee(n);case 6:c=e.sent,console.log(c.data),g(c.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[b,o]);return Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsx)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"}),onClick:function(){e.push("/usuario/create")}})})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"USUARIO"})}),Object(f.jsxs)(oe.a,{sx:{marginTop:"-10px",width:"100%",overflow:"hidden"},children:[Object(f.jsx)(h.a,{container:!0,style:V.btnfiltro,children:Object(f.jsx)(h.a,{item:!0,xs:12,sm:6,md:6,children:Object(f.jsx)(le.a,{children:Object(f.jsx)(Z.a,{fullWidth:!0,name:"textBusqueda",variant:"outlined",label:"Buscar Usuario",onChange:function(e){return i(e.target.value)},spacing:4,InputProps:{endAdornment:Object(f.jsx)(je.a,{position:"end",children:Object(f.jsx)(Ce.a,{})})}})})})}),Object(f.jsx)(L.a,{}),Object(f.jsx)(le.a,{children:Object(f.jsx)(de.a,{sx:{maxHeight:400},children:Object(f.jsxs)(ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(f.jsx)(be.a,{children:Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Usuario"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Nombre Completo"}),Object(f.jsxs)(pe.a,{mdDown:!0,children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Email"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Telefono"})]}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Acci\xf3n"})]})}),Object(f.jsx)(xe.a,{children:null==m.items?null:m.items.map((function(e){return Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.userName}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombreCompleto}),Object(f.jsxs)(pe.a,{mdDown:!0,children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.email}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.telefono})]}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:Object(f.jsxs)(d.b,{to:"/usuario/edit/".concat(e.idUser),children:[" ",Object(f.jsx)(ve.a,{})]})})]},e.idUser)}))}),Object(f.jsx)(me.a,{})]})})}),Object(f.jsx)(fe.a,{component:"div",rowsPerPageOptions:[5,10,25],count:m.total,rowsPerPage:b.pages,page:b.page,onPageChange:function(e,t){O((function(e){return Object(s.a)(Object(s.a)({},e),{},{page:parseInt(t)})}))},onRowsPerPageChange:function(e){O((function(t){return Object(s.a)(Object(s.a)({},t),{},{pages:parseInt(e.target.value),page:0})}))},labelRowsPerPage:"Paginaci\xf3n"})]})]})]})},we=a(300),Re=a(301),De=function(){var e=Object(u.g)(),t=y(),a=Object(r.a)(t,2),c=(a[0].sesionUsuario,a[1]),i=Object(u.h)().id,o=Object(n.useState)({id:"",idUser:"",name:"",firstName:"",lastName:"",email:"",phoneNumber:"",userName:"",password:""}),l=Object(r.a)(o,2),j=l[0],d=l[1],b=function(e){var t=e.target,a=t.name,n=t.value;d((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))}))},O=function(){void 0!=i&&(j.key=void 0==i?"":i,function(e){return new Promise((function(t,a){X.get("/usuario/getObtenerUsuario?"+"id=".concat(e.key)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))}(j).then((function(e){200===e.status?d(e.data):c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Hubo un problema en el sistema web",tipoRespuesta:0}})})))},p=function(){e.push("/usuario")};return Object(n.useEffect)((function(){O()}),[]),Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsxs)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:[Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Regresar",icon:Object(f.jsx)(we.a,{color:"secondary"}),onClick:p}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"})}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Guardar",icon:Object(f.jsx)(Re.a,{color:"primary"}),type:"submit",onClick:function(e){var t;e.preventDefault(),c({type:"OPEN_BACKDROP",open:!0}),(t=j,new Promise((function(e,a){X.post("/usuario/postGuardarUsuario",t).then((function(t){e(t)})).catch((function(t){e(t.response)}))}))).then((function(e){c({type:"OPEN_BACKDROP",open:!1}),200===e.status&&p(),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))}})]})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"USUARIO"})}),Object(f.jsx)(J.a,{style:V.paper,children:Object(f.jsx)("form",{children:Object(f.jsxs)(h.a,{container:!0,spacing:2,children:[Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"name",variant:"outlined",fullWidth:!0,label:"Nombre",value:j.name,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"firstName",variant:"outlined",fullWidth:!0,label:"Apellido Paterno",value:j.firstName,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"lastName",variant:"outlined",fullWidth:!0,label:"Apellido Materno",value:j.lastName,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"email",variant:"outlined",fullWidth:!0,label:"Email",value:j.email,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"phoneNumber",variant:"outlined",fullWidth:!0,label:"Telefono",value:j.phoneNumber,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"userName",variant:"outlined",fullWidth:!0,label:"Ingrse su Usuario",value:j.userName,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"password",type:"password",variant:"outlined",fullWidth:!0,label:"Ingrse Contrase\xf1a",value:j.password,onChange:b})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12})]})})})]})]})},Ee=function(e){return new Promise((function(t,a){X.get("/plan/getListarPlan?"+"page=".concat(e.page,"&pages=").concat(e.pages,"&request=").concat(e.request)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))},Ae=function(){var e=Object(u.g)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],i=a[1],o=Ne(c,400),l=Object(n.useState)({request:"",page:0,pages:5}),j=Object(r.a)(l,2),b=j[0],O=j[1],p=Object(n.useState)({items:[],page:0,pages:0,total:0}),x=Object(r.a)(p,2),m=x[0],g=x[1];Object(n.useEffect)((function(){var e=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a=b.page+1,o&&(t=o,a=1),n={request:t,page:a,pages:b.pages},e.next=6,Ee(n);case 6:c=e.sent,g(c.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[b,o]);return Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsx)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"}),onClick:function(){e.push("/plan/create")}})})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"PLAN"})}),Object(f.jsxs)(oe.a,{sx:{marginTop:"-10px",width:"100%",overflow:"hidden"},children:[Object(f.jsx)(h.a,{container:!0,style:V.btnfiltro,children:Object(f.jsx)(h.a,{item:!0,xs:12,sm:4,md:6,children:Object(f.jsx)(le.a,{children:Object(f.jsx)(Z.a,{fullWidth:!0,name:"textBusqueda",variant:"outlined",label:"Buscar Plan",onChange:function(e){return i(e.target.value)},spacing:4,InputProps:{endAdornment:Object(f.jsx)(je.a,{position:"end",children:Object(f.jsx)(Ce.a,{})})}})})})}),Object(f.jsx)(L.a,{}),Object(f.jsx)(le.a,{children:Object(f.jsx)(de.a,{sx:{maxHeight:400},children:Object(f.jsxs)(ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(f.jsx)(be.a,{children:Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"C\xf3digo"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Plan"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Licencia"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Acci\xf3n"})]})}),Object(f.jsx)(xe.a,{children:null==m.items?null:m.items.map((function(e){return Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.codigoPlan}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombrePlan}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nroLicencia}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:Object(f.jsxs)(d.b,{to:"/plan/edit/".concat(e.idPlan),children:[" ",Object(f.jsx)(ve.a,{})]})})]},e.idPlan)}))}),Object(f.jsx)(me.a,{})]})})}),Object(f.jsx)(fe.a,{component:"div",rowsPerPageOptions:[5,10,25],count:m.total,rowsPerPage:b.pages,page:b.page,onPageChange:function(e,t){O((function(e){return Object(s.a)(Object(s.a)({},e),{},{page:parseInt(t)})}))},onRowsPerPageChange:function(e){O((function(t){return Object(s.a)(Object(s.a)({},t),{},{pages:parseInt(e.target.value),page:0})}))},labelRowsPerPage:"Paginaci\xf3n"})]})]})]})},Ie=function(){var e=Object(u.g)(),t=y(),a=Object(r.a)(t,2),c=(a[0].sesionUsuario,a[1]),i=Object(u.h)().id,o=Object(n.useState)({idPlan:"",codigoPlan:"",nombrePlan:"",nroLicencia:0}),l=Object(r.a)(o,2),j=l[0],d=l[1],b=function(e){var t=e.target,a=t.name,n=t.value;d((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))}))},O=function(){void 0!=i&&(j.id=void 0==i?"":i,function(e){return new Promise((function(t,a){X.get("/plan/getObtenerPlan?"+"id=".concat(e.id)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))}(j).then((function(e){200===e.status?d(e.data):c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Hubo un problema en el sistema web",tipoRespuesta:0}})})))},p=function(){e.push("/plan")};return Object(n.useEffect)((function(){O()}),[]),Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsxs)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:[Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Regresar",icon:Object(f.jsx)(we.a,{color:"secondary"}),onClick:p}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"})}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Guardar",icon:Object(f.jsx)(Re.a,{color:"primary"}),type:"submit",onClick:function(e){e.preventDefault(),c({type:"OPEN_BACKDROP",open:!0}),function(e){return new Promise((function(t,a){X.post("/plan/postGuardarPlan",e).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))}({idPlan:j.idPlan,codigoPlan:j.codigoPlan,nombrePlan:j.nombrePlan,nroLicencia:parseInt(j.nroLicencia||0)}).then((function(e){c({type:"OPEN_BACKDROP",open:!1}),200===e.status&&p(),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))}})]})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"PLAN"})}),Object(f.jsx)(J.a,{style:V.paper,children:Object(f.jsx)("form",{children:Object(f.jsxs)(h.a,{container:!0,spacing:2,children:[Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"codigoPlan",value:j.codigoPlan,onChange:b,variant:"outlined",fullWidth:!0,label:"C\xf3digo Plan"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"nombrePlan",value:j.nombrePlan,onChange:b,variant:"outlined",fullWidth:!0,label:"Nombre Plan"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"nroLicencia",value:j.nroLicencia,onChange:b,variant:"outlined",fullWidth:!0,label:"Nro Licencia"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12})]})})})]})]})},ke=function(e){return new Promise((function(t,a){X.get("/empresa/getListarEmpresa?"+"page=".concat(e.page,"&pages=").concat(e.pages,"&request=").concat(e.request)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))},Me=function(){var e,t=Object(u.g)(),a=Object(n.useState)(""),c=Object(r.a)(a,2),i=c[0],o=c[1],l=Ne(i,400),j=Object(n.useState)({request:"",page:0,pages:5}),b=Object(r.a)(j,2),O=b[0],p=b[1],x=Object(n.useState)({items:[],page:0,pages:0,total:0}),m=Object(r.a)(x,2),g=m[0],v=m[1];Object(n.useEffect)((function(){var e=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a=O.page+1,l&&(t=l,a=1),n={request:t,page:a,pages:O.pages},e.next=6,ke(n);case 6:c=e.sent,v(c.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O,l]);return Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsx)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"}),onClick:function(){t.push("/empresa/create")}})})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"EMPRESA"})}),Object(f.jsxs)(oe.a,{sx:{marginTop:"-10px",width:"100%",overflow:"hidden"},children:[Object(f.jsx)(h.a,(e={container:!0},Object(P.a)(e,"container",!0),Object(P.a)(e,"style",V.btnfiltro),Object(P.a)(e,"children",Object(f.jsx)(h.a,{item:!0,xs:12,sm:4,md:6,children:Object(f.jsx)(le.a,{children:Object(f.jsx)(Z.a,{fullWidth:!0,name:"textBusqueda",variant:"outlined",label:"Buscar Empresa",onChange:function(e){return o(e.target.value)},spacing:4,InputProps:{endAdornment:Object(f.jsx)(je.a,{position:"end",children:Object(f.jsx)(Ce.a,{})})}})})})),e)),Object(f.jsx)(L.a,{}),Object(f.jsx)(le.a,{children:Object(f.jsx)(de.a,{sx:{maxHeight:400},children:Object(f.jsxs)(ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(f.jsx)(be.a,{children:Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Ruc"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Raz\xf3n Social"}),Object(f.jsxs)(pe.a,{mdDown:!0,children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Direcci\xf3n"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Fecha Registro"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Tipo DB"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Nombre DB"})]}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Acci\xf3n"})]})}),Object(f.jsx)(xe.a,{children:null==g.items?null:g.items.map((function(e){return Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.ruc}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.razSoc}),Object(f.jsxs)(pe.a,{mdDown:!0,children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.direccion}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:new Date(e.fechaCrea).toLocaleString()}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.tipoDB}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombreDB})]}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:Object(f.jsxs)(d.b,{to:"/empresa/edit/".concat(e.idSociedad),children:[" ",Object(f.jsx)(ve.a,{})]})})]},e.idSociedad)}))}),Object(f.jsx)(me.a,{})]})})}),Object(f.jsx)(fe.a,{component:"div",rowsPerPageOptions:[5,10,25],count:g.total,rowsPerPage:O.pages,page:O.page,onPageChange:function(e,t){p((function(e){return Object(s.a)(Object(s.a)({},e),{},{page:parseInt(t)})}))},onRowsPerPageChange:function(e){p((function(t){return Object(s.a)(Object(s.a)({},t),{},{pages:parseInt(e.target.value),page:0})}))},labelRowsPerPage:"Paginaci\xf3n"})]})]})]})},Be=a(337),Le=a(321),Te=a(311),_e=a(326),ze=function(){var e=Object(u.g)(),t=y(),a=Object(r.a)(t,2),c=(a[0].sesionUsuario,a[1]),i=Object(u.h)().id,o=Object(n.useState)({idSociedad:"",razSoc:"",nombComercial:"",direccion:"",ruc:"",codigoSociedad:"",tipoEmpresa:"",condicion:"",tipoDB:"",nombreServer:"",usuarioServer:"",claveServer:"",puerto:"",nombreDB:"",listaTipoBaseDato:[],listaTipoEmpresa:[]}),l=Object(r.a)(o,2),j=l[0],d=l[1],b=function(e){var t=e.target,a=t.name,n=t.value;d((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))}))},O=function(){j.id=void 0==i||0==i?0:i,function(e){return new Promise((function(t,a){X.get("/empresa/getObtenerEmpresa?"+"id=".concat(e.id)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))}(j).then((function(e){200===e.status?d(e.data):c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Hubo un problema en el sistema web",tipoRespuesta:0}})}))},p=function(){e.push("/empresa")};return Object(n.useEffect)((function(){O()}),[]),Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsxs)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:[Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Regresar",icon:Object(f.jsx)(we.a,{color:"secondary"}),onClick:p}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"})}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Guardar",icon:Object(f.jsx)(Re.a,{color:"primary"}),type:"submit",onClick:function(e){e.preventDefault(),c({type:"OPEN_BACKDROP",open:!0}),function(e){return new Promise((function(t,a){X.post("/empresa/postGuardarEmpresa",e).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))}(j).then((function(e){c({type:"OPEN_BACKDROP",open:!1}),200===e.status&&p(),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))}})]})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"EMPRESA"})}),Object(f.jsx)(J.a,{style:V.paper,children:Object(f.jsx)("form",{children:Object(f.jsxs)(h.a,{container:!0,spacing:1,children:[Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"razSoc",value:j.razSoc,onChange:b,variant:"outlined",fullWidth:!0,label:"Raz\xf3n Social"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"nombComercial",value:j.nombComercial,onChange:b,variant:"outlined",fullWidth:!0,label:"Nombre Comercial"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"direccion",value:j.direccion,onChange:b,variant:"outlined",fullWidth:!0,label:"Direcci\xf3n"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"ruc",value:j.ruc,onChange:b,variant:"outlined",fullWidth:!0,label:"Ruc"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"codigoSociedad",value:j.codigoSociedad,onChange:b,variant:"outlined",fullWidth:!0,label:"C\xf3digo Sociedad"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsxs)(Be.a,{fullWidth:!0,children:[Object(f.jsx)(Le.a,{id:"demo-simple-select-label",children:"Tipo Empresa"}),Object(f.jsx)(Te.a,{variant:"outlined",name:"tipoEmpresa",value:j.tipoEmpresa,label:"Tipo Base Dato",onChange:b,children:j.listaTipoEmpresa.map((function(e){return Object(f.jsx)(_e.a,{value:e.value,children:e.text},e.value)}))})]})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"condicion",value:j.condicion,onChange:b,variant:"outlined",fullWidth:!0,label:"Condici\xf3n Empresa"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsxs)(Be.a,{fullWidth:!0,children:[Object(f.jsx)(Le.a,{id:"demo-simple-select-label",children:"Tipo Base Dato"}),Object(f.jsx)(Te.a,{variant:"outlined",name:"tipoDB",value:j.tipoDB,label:"Tipo Base Dato",onChange:b,children:j.listaTipoBaseDato.map((function(e){return Object(f.jsx)(_e.a,{value:e.value,children:e.text},e.value)}))})]})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"nombreServer",value:j.nombreServer,onChange:b,variant:"outlined",fullWidth:!0,label:"Nombre Servidor"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"usuarioServer",value:j.usuarioServer,onChange:b,variant:"outlined",fullWidth:!0,label:"Usuario Servidor"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"claveServer",value:j.claveServer,onChange:b,variant:"outlined",fullWidth:!0,label:"Clave Servidor"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"puerto",value:j.puerto,onChange:b,variant:"outlined",fullWidth:!0,label:"Puerto"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(Z.a,{name:"nombreDB",value:j.nombreDB,onChange:b,variant:"outlined",fullWidth:!0,label:"Nombre Base Dato"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12})]})})})]})]})},We=a(16),qe=a(157),Ue=a(165),Ke=a(349),Fe=a(351),He=a(314),Ge=a(6),Je=a(217),Ze=a(350),Ve=a(327),Ye=a(57),Qe=a(126),Xe=function(){Object(u.g)();var e=y(),t=Object(r.a)(e,2),a=(t[0].sesionUsuario,t[1]),i=c.a.useState([]),o=Object(r.a)(i,2),l=o[0],j=o[1],d=(Object(u.h)().id,Object(n.useState)({idPlan:"",listaPlan:[]})),b=Object(r.a)(d,2),O=b[0],p=b[1],x=Object(n.useState)({idPlan:"",listaMenu:[]}),m=Object(r.a)(x,2),g=m[0],v=m[1];function C(e){return Object(f.jsx)(Ue.a,Object(s.a)(Object(s.a)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:Object(f.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"})}))}function N(e){return Object(f.jsx)(Ue.a,Object(s.a)(Object(s.a)({fontSize:"inherit",style:{width:14,height:14}},e),{},{children:Object(f.jsx)("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"})}))}function S(e){var t=Object(Qe.useSpring)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return Object(f.jsx)(Qe.animated.div,{style:t,children:Object(f.jsx)(Ke.a,Object(s.a)({},e))})}var w=Object(Ge.a)((function(e){return Object(f.jsx)(Ve.a,Object(s.a)(Object(s.a)({},e),{},{TransitionComponent:S}))}))((function(e){var t,a=e.theme;return t={},Object(P.a)(t,"& .".concat(Ye.a.iconContainer),{"& .close":{opacity:.3}}),Object(P.a)(t,"& .".concat(Ye.a.group),{marginLeft:15,paddingLeft:18,borderLeft:"1px dashed ".concat(Object(Je.a)(a.palette.text.primary,.4))}),t}));function R(e,t){var a,n=(a=function(e,t,a){var n=[],c="",i=0;null!=t.idOpcionPadre&&e&&t.idOpcionPadre.length>=2&&(n.push(t.idOpcionPadre),i=t.idOpcionPadre.length-2,(c=t.idOpcionPadre.slice(0,i)).length>=2&&(n.push(c),i=c.length-2,(c=c.slice(0,i)).length>=2&&(n.push(c),i=c.length-2,(c=c.slice(0,i)).length>=2&&n.push(c))));function o(e){return null===e?[]:(n.push(e.codigoOpcion),Array.isArray(e.listaMenu)&&e.listaMenu.forEach((function(e){n=(n=[].concat(Object(We.a)(n),Object(We.a)(o(e)))).filter((function(e,t){return n.indexOf(e)===t}))})),n)}function s(e,t){if(e.codigoOpcion===t)return e;if(Array.isArray(e.listaMenu)){var a=null;return e.listaMenu.forEach((function(e){s(e,t)&&(a=s(e,t))})),a}return null}return o(s(t,a))}(e,t,t.codigoOpcion),Object(qe.a)(a),a),c=e?[].concat(Object(We.a)(l),Object(We.a)(n)):l.filter((function(e){return!n.includes(e)}));j(c)}var D=function(){new Promise((function(e,t){X.get("/planmodulo/getListarPlan").then((function(t){e(t)})).catch((function(t){e(t.response)}))})).then((function(e){200===e.status?(p(e.data),null!=e.data.idPlan&&E(e.data.idPlan)):a({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Hubo un problema en el sistema web",tipoRespuesta:0}})}))},E=function(e){var t;a({type:"OPEN_BACKDROP",open:!0}),g.idPlan=e,(t=g,new Promise((function(e,a){X.get("/planmodulo/getListarMenu?"+"id=".concat(t.idPlan)).then((function(t){e(t)})).catch((function(t){e(t.response)}))}))).then((function(e){200===e.status?(v(e.data),j(e.data.listaCodigoMenu),a({type:"OPEN_BACKDROP",open:!1})):(a({type:"OPEN_BACKDROP",open:!1}),a({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Hubo un problema en el sistema web",tipoRespuesta:0}}))}))};return Object(n.useEffect)((function(){D()}),[]),Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsx)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Guardar",icon:Object(f.jsx)(Re.a,{color:"primary"}),type:"submit",onClick:function(e){e.preventDefault(),a({type:"OPEN_BACKDROP",open:!0});var t,n={idPlan:O.idPlan,listaCodigoMenu:l};(t=n,new Promise((function(e,a){X.post("/planmodulo/postGuardarPlanModulo",t).then((function(t){e(t)})).catch((function(t){e(t.response)}))}))).then((function(e){a({type:"OPEN_BACKDROP",open:!1}),a({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))}})})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"PLAN MODULO"})}),Object(f.jsx)(J.a,{children:Object(f.jsx)("form",{children:Object(f.jsxs)(h.a,{container:!0,spacing:1,children:[Object(f.jsx)(h.a,{item:!0,xs:12,md:12,sm:12,children:Object(f.jsxs)(Be.a,{fullWidth:!0,children:[Object(f.jsx)(Le.a,{id:"demo-simple-select-label",children:"Plan"}),Object(f.jsx)(Te.a,{variant:"outlined",name:"idPlan",value:O.idPlan,label:"Tipo Base Dato",onChange:function(e){var t=e.target,a=t.name,n=t.value;p((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))})),E(e.target.value)},children:O.listaPlan.map((function(e){return Object(f.jsx)(_e.a,{value:e.idPlan,children:e.nombrePlan},e.idPlan)}))})]})}),Object(f.jsxs)(h.a,{item:!0,xs:12,md:12,sm:12,children:[Object(f.jsx)(L.a,{}),Object(f.jsx)(Ze.a,{fullWidth:!0,"aria-label":"customized",defaultExpanded:["1"],defaultCollapseIcon:Object(f.jsx)(C,{}),defaultExpandIcon:Object(f.jsx)(N,{}),sx:{height:800,flexGrow:1,overflowY:"auto",paddingTop:"10px"},children:null==g.listaMenu?null:g.listaMenu.map((function(e){return Object(f.jsx)(w,{nodeId:e.idOpcion,label:Object(f.jsx)(Fe.a,{control:Object(f.jsx)(He.a,{checked:l.some((function(t){return t===e.codigoOpcion})),onChange:function(t){return R(t.currentTarget.checked,e)},onClick:function(e){return e.stopPropagation()}}),label:Object(f.jsx)(f.Fragment,{children:e.nombre})},e.idOpcion),children:null==e.listaMenu?null:e.listaMenu.map((function(e){return Object(f.jsx)(w,{nodeId:e.idOpcion,label:Object(f.jsx)(Fe.a,{control:Object(f.jsx)(He.a,{checked:l.some((function(t){return t===e.codigoOpcion})),onChange:function(t){return R(t.currentTarget.checked,e)},onClick:function(e){return e.stopPropagation()}}),label:Object(f.jsx)(f.Fragment,{children:e.nombre})},e.idOpcion),children:null==e.listaMenu?null:e.listaMenu.map((function(e){return Object(f.jsx)(w,{nodeId:e.idOpcion,label:Object(f.jsx)(Fe.a,{control:Object(f.jsx)(He.a,{checked:l.some((function(t){return t===e.codigoOpcion})),onChange:function(t){return R(t.currentTarget.checked,e)},onClick:function(e){return e.stopPropagation()}}),label:Object(f.jsx)(f.Fragment,{children:e.nombre})},e.idOpcion),children:null==e.listaMenu?null:e.listaMenu.map((function(e){return Object(f.jsx)(w,{nodeId:e.idOpcion,label:Object(f.jsx)(Fe.a,{control:Object(f.jsx)(He.a,{checked:l.some((function(t){return t===e.codigoOpcion})),onChange:function(t){return R(t.currentTarget.checked,e)},onClick:function(e){return e.stopPropagation()}}),label:Object(f.jsx)(f.Fragment,{children:e.nombre})},e.idOpcion),children:null==e.listaMenu?null:e.listaMenu.map((function(e){return Object(f.jsx)(w,{nodeId:e.idOpcion,label:Object(f.jsx)(Fe.a,{control:Object(f.jsx)(He.a,{checked:l.some((function(t){return t===e.codigoOpcion})),onChange:function(t){return R(t.currentTarget.checked,e)},onClick:function(e){return e.stopPropagation()}}),label:Object(f.jsx)(f.Fragment,{children:e.nombre})},e.idOpcion)},e.idOpcion)}))},e.idOpcion)}))},e.idOpcion)}))},e.idOpcion)}))},e.idOpcion)}))})]}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12})]})})})]})]})},$e=function(e){return new Promise((function(t,a){X.get("/contrato/getListarContrato?"+"page=".concat(e.page,"&pages=").concat(e.pages,"&request=").concat(e.request)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))},et=function(e){return new Promise((function(t,a){X.get("/contrato/getListarUsuarioLogueado?"+"page=".concat(e.page,"&pages=").concat(e.pages,"&request=").concat(e.request)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))},tt=function(){var e=Object(u.g)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],i=a[1],o=Ne(c,400),l=Object(n.useState)({request:"",page:0,pages:5}),j=Object(r.a)(l,2),b=j[0],O=j[1],p=Object(n.useState)({items:[],page:0,pages:0,total:0}),x=Object(r.a)(p,2),m=x[0],g=x[1];Object(n.useEffect)((function(){var e=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,a,n,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a=b.page+1,o&&(t=o,a=1),n={request:t,page:a,pages:b.pages},e.next=6,$e(n);case 6:c=e.sent,g(c.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[b,o]);return Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsx)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"}),onClick:function(){e.push("/contrato/create")}})})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"CONTRATO"})}),Object(f.jsxs)(oe.a,{sx:{marginTop:"-10px",width:"100%",overflow:"hidden"},children:[Object(f.jsx)(h.a,{container:!0,style:V.btnfiltro,children:Object(f.jsx)(h.a,{item:!0,xs:12,sm:4,md:6,children:Object(f.jsx)(le.a,{children:Object(f.jsx)(Z.a,{fullWidth:!0,name:"textBusqueda",variant:"outlined",label:"Buscar Contrato",onChange:function(e){return i(e.target.value)},spacing:4,InputProps:{endAdornment:Object(f.jsx)(je.a,{position:"end",children:Object(f.jsx)(Ce.a,{})})}})})})}),Object(f.jsx)(L.a,{}),Object(f.jsx)(le.a,{children:Object(f.jsx)(de.a,{sx:{maxHeight:400},children:Object(f.jsxs)(ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(f.jsx)(be.a,{children:Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"C\xf3digo"}),Object(f.jsxs)(pe.a,{mdDown:!0,children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Nombre Contrato"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Ruc"})]}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Razon Social"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Acci\xf3n"})]})}),Object(f.jsx)(xe.a,{children:null==m.items?null:m.items.map((function(e){return Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.codigoContrato}),Object(f.jsxs)(pe.a,{mdDown:!0,children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombreContrato}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.ruc})]}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.razonSocial}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:Object(f.jsxs)(d.b,{to:"/contrato/edit/".concat(e.idContrato),children:[" ",Object(f.jsx)(ve.a,{})]})})]},e.idContrato)}))}),Object(f.jsx)(me.a,{})]})})}),Object(f.jsx)(fe.a,{component:"div",rowsPerPageOptions:[5,10,25],count:m.total,rowsPerPage:b.pages,page:b.page,onPageChange:function(e,t){O((function(e){return Object(s.a)(Object(s.a)({},e),{},{page:parseInt(t)})}))},onRowsPerPageChange:function(e){O((function(t){return Object(s.a)(Object(s.a)({},t),{},{pages:parseInt(e.target.value),page:0})}))},labelRowsPerPage:"Paginaci\xf3n"})]})]})]})},at=a(312),nt=a(354),ct=a(303),it=a(355),ot=a(352),st=a(353),rt=a(304),lt=a(305),jt=a(158),dt=a.n(jt),ut=a(307),bt=a(306),Ot=a(308),ht=Object(A.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.light,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function pt(e){var t=e.confirmDialog,a=e.setConfirmDialog,n=ht();return Object(f.jsxs)(ct.a,{open:t.isOpen,classes:{paper:n.dialog},children:[Object(f.jsxs)(ot.a,{className:n.dialogContent,children:[Object(f.jsx)(R.a,{variant:"h6",children:t.title}),Object(f.jsx)(R.a,{variant:"subtitle2",children:t.subTitle})]}),Object(f.jsxs)(st.a,{className:n.dialogAction,children:[Object(f.jsx)(D.a,{variant:"outlined",onClick:function(){return a(Object(s.a)(Object(s.a)({},t),{},{isOpen:!1}))},children:"Cancel"}),Object(f.jsx)(D.a,{variant:"outlined",color:"error",onClick:t.onConfirm,children:"Si Aceptar"})]})]})}var xt=function(){var e=Object(u.g)(),t=y(),a=Object(r.a)(t,2),c=(a[0].sesionUsuario,a[1]),i=Object(u.h)().id,o=Object(n.useState)(!1),l=Object(r.a)(o,2),j=l[0],d=l[1],b=Object(n.useState)(!1),O=Object(r.a)(b,2),p=O[0],x=O[1],m=Object(n.useState)(new Date),g=Object(r.a)(m,2),v=g[0],C=g[1],N=Object(n.useState)(null),S=Object(r.a)(N,2),w=S[0],R=S[1],E=Object(n.useState)(null),A=Object(r.a)(E,2),I=A[0],k=A[1],M=Object(n.useState)(null),B=Object(r.a)(M,2),T=B[0],_=B[1],z=Object(n.useState)(null),W=Object(r.a)(z,2),q=W[0],U=W[1],K=Object(n.useState)({codigoContrato:"",nombreContrato:"",ruc:"",razonSocial:"",listaContratoDet:[],listaCliente:[],listaPlan:[],listaModalidad:[],listaEstado:[]}),F=Object(r.a)(K,2),H=F[0],G=F[1],Y=Object(n.useState)({strIdContratoDet:"",strIdContrato:"",strRuc:"",strRazonSocial:"",strIdPlan:"",strNombrePlan:"",strNroLicencia:0,strNombreModalidad:"",strModalidad:"",strNombreEstado:"",strEstado:""}),Q=Object(r.a)(Y,2),$=Q[0],ee=Q[1],te=Object(n.useState)({request:"",page:0,pages:5}),ae=Object(r.a)(te,2),ne=ae[0],je=ae[1],pe=Object(n.useState)({items:[],page:0,pages:0,total:0}),ye=Object(r.a)(pe,2),Ce=ye[0],Ne=ye[1],Se=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),De=Object(r.a)(Se,2),Ee=De[0],Ae=De[1],Ie=function(e){var t=e.target,a=t.name,n=t.value;G((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))}))},ke=function(e){"strIdPlan"==e.target.name&&($.strNombrePlan=H.listaPlan.filter((function(t){return t.value==e.target.value}))[0].text,$.strNroLicencia=H.listaPlan.filter((function(t){return t.value==e.target.value}))[0].intValor),"strModalidad"==e.target.name&&($.strNombreModalidad=H.listaModalidad.filter((function(t){return t.value==e.target.value}))[0].text),"strEstado"==e.target.name&&($.strNombreEstado=H.listaEstado.filter((function(t){return t.value==e.target.value}))[0].text);var t=e.target,a=t.name,n=t.value;ee((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(P.a)({},a,n))}))},Me=function(e){var t={strIdContratoDet:"",strIdContrato:"",strRuc:"",strRazonSocial:"",strIdPlan:"",strNombrePlan:"",strNroLicencia:"",strNombreModalidad:"",strModalidad:"",strNombreEstado:"",strEstado:""};if(""!=e){var a=H.listaContratoDet.filter((function(t){return t.ruc==e}))[0],n={value:a.ruc,text:a.razonSocial};t.strIdContratoDet=a.idContratoDet,t.strIdContrato=a.idContrato,t.strRuc=a.ruc,t.strRazonSocial=a.razonSocial,t.strIdPlan=a.idPlan,t.strNombrePlan=a.nombrePlan,t.strNroLicencia=a.nroLicencia,t.strNombreModalidad=a.nombreModalidad,t.strModalidad=a.modalidad,t.strNombreEstado=a.nombreEstado,t.strEstado=a.estado,ee(t),U(n),C(new Date(a.fechaContrato)),R(new Date(a.fechaInicio)),k(new Date(a.fechaFin))}else ee(t),U(null),C(new Date),R(null),k(null);d(!0)},ze=function(){d(!1)},We=function(){x(!1)},qe=function(e,t,a){c({type:"OPEN_BACKDROP",open:!0}),Ae(Object(s.a)(Object(s.a)({},Ee),{},{isOpen:!1}));var n,i={};i.idcontratodet=e,i.user=t,(n=i,new Promise((function(e,t){X.delete("/contrato/deleteUsuarioLogueado?"+"idcontratodet=".concat(n.idcontratodet,"&user=").concat(n.user)).then((function(t){e(t)})).catch((function(t){e(t.response)}))}))).then((function(e){200===e.status&&He(a),c({type:"OPEN_BACKDROP",open:!1}),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))},Ue=function(){var e;H.id=void 0==i||0==i?"":i,(e=H,new Promise((function(t,a){X.get("/contrato/getObtenerContrato?"+"id=".concat(e.id)).then((function(e){t(e)})).catch((function(e){t(e.response)}))}))).then((function(e){if(200===e.status){if(G(e.data),null!=e.data.ruc){var t={value:e.data.ruc,text:e.data.razonSocial};_(t)}}else c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"Hubo un problema en el sistema web",tipoRespuesta:0}})}))},Ke=function(){e.push("/contrato")},Fe=function(e,t){var a,n={};if(n.ruc=t,""==e||null==e||void 0==e){c({type:"OPEN_BACKDROP",open:!0}),Ae(Object(s.a)(Object(s.a)({},Ee),{},{isOpen:!1}));var i=H.listaContratoDet.filter((function(e){return e.ruc!=t}));if(H.listaContratoDet=i,G(H),null!=H.ruc){var o={value:T.value,text:T.text};_(o)}c({type:"OPEN_BACKDROP",open:!1}),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:"El registro ha sido eliminado",tipoRespuesta:1}})}else(a=n,new Promise((function(e,t){X.delete("/contrato/deleteContratoDetalle?"+"ruc=".concat(a.ruc)).then((function(t){e(t)})).catch((function(t){e(t.response)}))}))).then((function(e){if(c({type:"OPEN_BACKDROP",open:!0}),Ae(Object(s.a)(Object(s.a)({},Ee),{},{isOpen:!1})),200===e.status&&2!=e.data.tipoRespuesta){var a=H.listaContratoDet.filter((function(e){return e.ruc!=t}));if(H.listaContratoDet=a,G(H),null!=H.ruc){var n={value:T.value,text:T.text};_(n)}}c({type:"OPEN_BACKDROP",open:!1}),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))},He=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var a,n,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ne.page+1,n={request:t,page:a,pages:ne.pages},e.next=4,et(n);case 4:c=e.sent,Ne(c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Ue()}),[]),Object(f.jsxs)(Pe.a,{style:{width:"100%"},children:[Object(f.jsx)(oe.a,{style:{zIndex:"100"},sx:V.paperboton,elevation:3,children:Object(f.jsxs)(se.a,{showLabels:!0,style:{paddingTop:"8px"},children:[Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Regresar",icon:Object(f.jsx)(we.a,{color:"secondary"}),onClick:Ke}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Nuevo",icon:Object(f.jsx)(ge.a,{color:"success"})}),Object(f.jsx)(re.a,{style:{color:"#274c5e"},label:"Guardar",icon:Object(f.jsx)(Re.a,{color:"primary"}),type:"submit",onClick:function(e){var t;e.preventDefault(),c({type:"OPEN_BACKDROP",open:!0}),H.ruc=T.value,H.razonSocial=T.text,(t=H,new Promise((function(e,a){X.post("/contrato/postGuardarContrato",t).then((function(t){e(t)})).catch((function(t){e(t.response)}))}))).then((function(e){c({type:"OPEN_BACKDROP",open:!1}),200===e.status&&2!=e.data.tipoRespuesta&&Ke(),c({type:"OPEN_SNACKBAR",openMensaje:{open:!0,mensaje:e.data.mensaje,tipoRespuesta:e.data.tipoRespuesta}})}))}})]})}),Object(f.jsxs)("div",{style:V.form,children:[Object(f.jsx)(L.a,{children:Object(f.jsx)("h3",{style:{color:"#1976d2"},children:"CONTRATO"})}),Object(f.jsx)(J.a,{style:V.paper,children:Object(f.jsx)("form",{children:Object(f.jsxs)(h.a,{container:!0,spacing:1,children:[Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"codigoContrato",value:H.codigoContrato,onChange:Ie,variant:"outlined",fullWidth:!0,label:"C\xf3digo Contrato",disabled:!0})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(Z.a,{name:"nombreContrato",value:H.nombreContrato,onChange:Ie,variant:"outlined",fullWidth:!0,label:"Nombre Contrato"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(at.a,{disablePortal:!0,id:"combo-box-demo",options:H.listaCliente,getOptionLabel:function(e){return"".concat(e.value," - ").concat(e.text)},fullWidth:!0,renderInput:function(e){return Object(f.jsx)(Z.a,Object(s.a)(Object(s.a)({},e),{},{label:"Raz\xf3n Social"}))},value:T,onChange:function(e,t){_(t)}})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(h.a,{container:!0,justifyContent:"right",children:Object(f.jsx)(h.a,{item:!0,xs:4,sm:2,md:2,children:Object(f.jsxs)(D.a,{fullWidth:!0,variant:"outlined",color:"primary",value:"",onClick:function(){return Me("")},children:[Object(f.jsx)(rt.a,{})," Buscar"]})})})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12})]})})}),Object(f.jsx)(oe.a,{sx:{width:"100%",overflow:"hidden"},children:Object(f.jsx)(le.a,{children:Object(f.jsx)(de.a,{sx:{maxHeight:400},children:Object(f.jsxs)(ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(f.jsx)(be.a,{children:Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Ruc"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Razon Social"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Plan"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Licencia"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"F. Contrato"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"F. Inicio"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"F. Fin"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Modalidad"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Estado"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Acci\xf3n"})]})}),Object(f.jsx)(xe.a,{children:null==H.listaContratoDet?null:H.listaContratoDet.map((function(e){var t;return Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.ruc}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.razonSocial}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombrePlan}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nroLicencia}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.strFechaContrato}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.strFechaInicio}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.strFechaFin}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombreModalidad}),Object(f.jsx)(he.a,(t={style:V.tbody},Object(P.a)(t,"style",V.tbody),Object(P.a)(t,"align","left"),Object(P.a)(t,"children",e.nombreEstado),t)),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:Object(f.jsxs)(nt.a,{variant:"text","aria-label":"text button group",children:[Object(f.jsx)(D.a,{value:e.idContratoDet,onClick:function(){return t=e.ruc,He(t),void x(!0);var t},children:Object(f.jsx)(dt.a,{color:"success"})}),Object(f.jsx)(D.a,{value:e.idContratoDet,onClick:function(){return Me(e.ruc)},children:Object(f.jsx)(ve.a,{color:"primary"})}),Object(f.jsx)(D.a,{value:e.idContratoDet,onClick:function(){Ae({isOpen:!0,title:"Est\xe1s segura de eliminar este registro?",subTitle:"Despues de eliminar no podras recuperar",onConfirm:function(){Fe(e.idContratoDet,e.ruc)}})},children:Object(f.jsx)(lt.a,{color:"error"})})]})})]},e.ruc)}))})]})})})})]}),Object(f.jsxs)(ct.a,{open:j,onClose:ze,children:[Object(f.jsx)(it.a,{children:"Detalle Contrato"}),Object(f.jsx)(ot.a,{children:Object(f.jsxs)(h.a,{container:!0,spacing:1,style:{paddingTop:10,width:"100%"},children:[Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(at.a,{disablePortal:!0,id:"combo-box-demo",options:H.listaCliente,getOptionLabel:function(e){return"".concat(e.value," - ").concat(e.text)},fullWidth:!0,renderInput:function(e){return Object(f.jsx)(Z.a,Object(s.a)(Object(s.a)({},e),{},{label:"Cliente"}))},value:q,onChange:function(e,t){U(t)}})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(f.jsx)(bt.b,{dateAdapter:ut.a,children:Object(f.jsx)(Ot.a,{label:"Fecha Contrato",value:v,onChange:function(e){C(e)},renderInput:function(e){return Object(f.jsx)(Z.a,Object(s.a)({fullWidth:!0},e))}})})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:10,children:Object(f.jsxs)(Be.a,{fullWidth:!0,children:[Object(f.jsx)(Le.a,{id:"demo-simple-select-label",children:"Plan"}),Object(f.jsx)(Te.a,{variant:"outlined",name:"strIdPlan",value:$.strIdPlan,label:"Plan",onChange:ke,children:H.listaPlan.map((function(e){return Object(f.jsx)(_e.a,{value:e.value,children:e.text},e.value)}))})]})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:2,children:Object(f.jsx)(Z.a,{name:"strNroLicencia",value:$.strNroLicencia,onChange:ke,variant:"outlined",fullWidth:!0,label:"Licencia"})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(bt.b,{dateAdapter:ut.a,children:Object(f.jsx)(Ot.a,{label:"Fecha Inicio",value:w,onChange:function(e){R(e)},renderInput:function(e){return Object(f.jsx)(Z.a,Object(s.a)({fullWidth:!0},e))}})})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsx)(bt.b,{dateAdapter:ut.a,children:Object(f.jsx)(Ot.a,{label:"Fecha Fin",value:I,onChange:function(e){k(e)},renderInput:function(e){return Object(f.jsx)(Z.a,Object(s.a)({fullWidth:!0},e))}})})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsxs)(Be.a,{fullWidth:!0,children:[Object(f.jsx)(Le.a,{id:"demo-simple-select-label",children:"Modalidad"}),Object(f.jsx)(Te.a,{variant:"outlined",name:"strModalidad",value:$.strModalidad,label:"Modaliad",onChange:ke,children:H.listaModalidad.map((function(e){return Object(f.jsx)(_e.a,{value:e.value,children:e.text},e.value)}))})]})}),Object(f.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(f.jsxs)(Be.a,{fullWidth:!0,children:[Object(f.jsx)(Le.a,{id:"demo-simple-select-label",children:"Estado"}),Object(f.jsx)(Te.a,{variant:"outlined",name:"strEstado",value:$.strEstado,label:"Estado",onChange:ke,children:H.listaEstado.map((function(e){return Object(f.jsx)(_e.a,{value:e.value,children:e.text},e.value)}))})]})})]})}),Object(f.jsxs)(st.a,{children:[Object(f.jsx)(D.a,{onClick:ze,children:"Cancel"}),Object(f.jsx)(D.a,{onClick:function(){var e=H.listaContratoDet.filter((function(e){return e.ruc==q.value}))[0];if(void 0==e){var t={};t.idContratoDet=$.strIdContratoDet,t.ruc=q.value,t.razonSocial=q.text,t.nombrePlan=$.strNombrePlan,t.idPlan=$.strIdPlan,t.nroLicencia=$.strNroLicencia,t.strFechaContrato=v.toLocaleDateString(),t.strFechaInicio=w.toLocaleDateString(),t.strFechaFin=I.toLocaleDateString(),t.fechaContrato=v,t.fechaInicio=w,t.fechaFin=I,t.nombreModalidad=$.strNombreModalidad,t.modalidad=$.strModalidad,t.nombreEstado=$.strNombreEstado,t.estado=$.strEstado,H.listaContratoDet.push(t)}else e.idContratoDet=$.strIdContratoDet,e.ruc=q.value,e.razonSocial=q.text,e.nombrePlan=$.strNombrePlan,e.idPlan=$.strIdPlan,e.nroLicencia=$.strNroLicencia,e.strFechaContrato=v.toLocaleDateString(),e.strFechaInicio=w.toLocaleDateString(),e.strFechaFin=I.toLocaleDateString(),e.fechaContrato=v,e.fechaInicio=w,e.fechaFin=I,e.nombreModalidad=$.strNombreModalidad,e.modalidad=$.strModalidad,e.nombreEstado=$.strNombreEstado,e.estado=$.strEstado;d(!1)},children:"Agregar"})]})]}),Object(f.jsxs)(ct.a,{open:p,onClose:We,children:[Object(f.jsx)(it.a,{children:"Usuarios Logueados"}),Object(f.jsx)(ot.a,{children:Object(f.jsxs)(h.a,{spacing:1,style:{paddingTop:10,width:"100%"},children:[Object(f.jsx)(de.a,{sx:{maxHeight:400},children:Object(f.jsxs)(ue.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(f.jsx)(be.a,{children:Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Usuario"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Nombre Completo"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"F. Logueo"}),Object(f.jsx)(he.a,{style:V.thead,align:"left",children:"Acci\xf3n"})]})}),Object(f.jsx)(xe.a,{children:null==Ce.items?null:Ce.items.map((function(e){return Object(f.jsxs)(Oe.a,{children:[Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.userName}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:e.nombreCompleto}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:new Date(e.fechaLogeo).toLocaleString()}),Object(f.jsx)(he.a,{style:V.tbody,align:"left",children:Object(f.jsx)(nt.a,{variant:"text","aria-label":"text button group",children:Object(f.jsx)(D.a,{onClick:function(){Ae({isOpen:!0,title:"Est\xe1s segura de eliminar este registro?",subTitle:"Despues de eliminar no podras recuperar",onConfirm:function(){qe(e.idContratoDet,e.userName,e.ruc)}})},children:Object(f.jsx)(lt.a,{color:"error"})})})})]},e.idUsuarioLogeado)}))}),Object(f.jsx)(me.a,{})]})}),Object(f.jsx)(fe.a,{component:"div",rowsPerPageOptions:[5,10,25],count:Ce.total,rowsPerPage:ne.pages,page:ne.page,onPageChange:function(e,t){je((function(e){return Object(s.a)(Object(s.a)({},e),{},{page:parseInt(t)})}))},onRowsPerPageChange:function(e){je((function(t){return Object(s.a)(Object(s.a)({},t),{},{pages:parseInt(e.target.value),page:0})}))},labelRowsPerPage:"Paginaci\xf3n"})]})}),Object(f.jsx)(st.a,{children:Object(f.jsx)(D.a,{onClick:We,children:"Cancel"})})]}),Object(f.jsx)(pt,{confirmDialog:Ee,setConfirmDialog:Ae})]})};var mt=function(){var e=y(),t=Object(r.a)(e,2),a=t[0],i=a.openSnackbar,o=a.openBackdrop,l=t[1],g=Object(n.useState)(!1),v=Object(r.a)(g,2),C=v[0],P=v[1],N=c.a.forwardRef((function(e,t){return Object(f.jsx)(p.a,Object(s.a)({elevation:6,ref:t,variant:"filled"},e))}));return Object(n.useEffect)((function(){C||function(e){return new Promise((function(t,a){X.get("/usuario/getObtenerUsuarioSesion").then((function(a){e({type:"INICIAR_SESION",sesion:a.data,autenticado:!0}),t(a)})).catch((function(e){t(e.response)}))}))}(l).then((function(e){P(!0)})).catch((function(e){P(!0)}))}),[C]),!1===C?null:Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)(b.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!i&&i.open,autoHideDuration:3e3,ContentProps:{"aria-describedby":"message-id"},onClose:function(){return l({type:"OPEN_SNACKBAR",openMensaje:{open:!1,mensaje:"",tipoRespuesta:1}})},children:Object(f.jsx)(N,{severity:i?1==i.tipoRespuesta?"success":0==i.tipoRespuesta?"error":"warning":"info",sx:{width:"100%"},onClose:function(){return l({type:"OPEN_SNACKBAR",openMensaje:{open:!1,mensaje:"",tipoRespuesta:1}})},children:Object(f.jsx)("span",{id:"message-id",children:i?i.mensaje:""})})}),Object(f.jsx)(x.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!!o&&o.open,onClose:function(){return l({type:"OPEN_BACKDROP",open:!1})},children:Object(f.jsx)(m.a,{color:"inherit"})}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(O.a,{theme:j,children:[Object(f.jsx)(q,{}),Object(f.jsx)(h.a,{container:!0,children:Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{exact:!0,path:"/auth/login",component:ae}),Object(f.jsx)(F,{exact:!0,path:"/inicio",component:G.a}),Object(f.jsx)(F,{exact:!0,path:"/usuario",component:Se}),Object(f.jsx)(F,{exact:!0,path:"/usuario/create",component:De}),Object(f.jsx)(F,{exact:!0,path:"/usuario/edit/:id",component:De}),Object(f.jsx)(F,{exact:!0,path:"/plan",component:Ae}),Object(f.jsx)(F,{exact:!0,path:"/plan/create",component:Ie}),Object(f.jsx)(F,{exact:!0,path:"/plan/edit/:id",component:Ie}),Object(f.jsx)(F,{exact:!0,path:"/empresa",component:Me}),Object(f.jsx)(F,{exact:!0,path:"/empresa/create",component:ze}),Object(f.jsx)(F,{exact:!0,path:"/empresa/edit/:id",component:ze}),Object(f.jsx)(F,{exact:!0,path:"/planesmodulo",component:Xe}),Object(f.jsx)(F,{exact:!0,path:"/contrato",component:tt}),Object(f.jsx)(F,{exact:!0,path:"/contrato/create",component:xt}),Object(f.jsx)(F,{exact:!0,path:"/contrato/edit/:id",component:xt})]})})]})})]})},ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,359)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))},gt={usuario:{nombreCompleto:"",email:"",username:"",foto:""},autenticado:!1},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INICIAR_SESION":return Object(s.a)(Object(s.a)({},e),{},{usuario:t.sesion,autenticado:t.autenticado});case"SALIR_SESION":case"ACTUALIZAR_USUARIO":return Object(s.a)(Object(s.a)({},e),{},{usuario:t.nuevoUsuario,autenticado:t.autenticado});default:return e}},yt={open:!1,mensaje:"",tipoRespuesta:1},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;return"OPEN_SNACKBAR"===t.type?Object(s.a)(Object(s.a)({},e),{},{open:t.openMensaje.open,mensaje:t.openMensaje.mensaje,tipoRespuesta:t.openMensaje.tipoRespuesta}):e},Pt={open:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;return"OPEN_BACKDROP"===t.type?Object(s.a)(Object(s.a)({},e),{},{open:t.open}):e};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(v,{initialState:{},reducer:function(e,t){var a=e.sesionUsuario,n=e.openSnackbar,c=e.openBackdrop;return{sesionUsuario:vt(a,t),openSnackbar:Ct(n,t),openBackdrop:Nt(c,t)}},children:Object(f.jsx)(mt,{})})}),document.getElementById("root")),ft()}},[[216,1,2]]]);
//# sourceMappingURL=main.d62e0303.chunk.js.map